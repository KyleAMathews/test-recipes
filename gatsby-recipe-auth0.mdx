# Add Auth0 to authenticate a route

Auth0 makes it easy to build apps with Gatsby! This recipe
will create an authenticated section of your site that's authenticated
with Auth0.

<Config
  name="auth0/add-auth0-to-route"
  dependencies="auth0/add-auth0"
/>

---

First pick the root path for your app.

<Page
  name="auth0AppPage"
  options={{
    clientSide: true
  }}
  suggestedOptions={{
    path="app/*"
  }}
/>

---

Creating the login page & app

{
  // Add the auth0 theme import & add it to the body
  // TODO sort this out.
  stack.auth0AppPage.pageContext.createImport('import ProtectedRoute from "gatsby-theme-auth0"')
  stack.auth0AppPage.pageContext.setComponent(<ProtectedRoute>You can't see me until you login</ProtectedRoute>)
}

import LoginPage from "gatsby-theme-auth0"

<Page page={stack.auth0AppPage.pageContext} />
<Page page={{path: `/login/`, component: LoginPage />

---

Happy development!

<LocalDevLink to={pageContext.rootPath}>Try logging in to your new app.</LocalDevLink>
